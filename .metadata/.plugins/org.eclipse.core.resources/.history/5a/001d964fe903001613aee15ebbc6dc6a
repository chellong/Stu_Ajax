<%@ page language="java" contentType="text/html; charset=utf-8"
    pageEncoding="utf-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Insert title here</title>
	<!--导入jquery库文件-->
	<script type="text/javascript" src="${pageContext.request.contextPath}/JQuery/jquery-1.12.2.js"></script>
	<script type="text/javascript">
		/*
		1、导入jquery库
		2、为username添加响应函数
		4、获取val值，删除前后空格
		5、发送ajax请求，检查username的否可用
		6、
		
		1、获取a节点
		2、天加click函数
		3、准备发送ajax
		4、返回json数据
		
		*/
		$(function(){
			$(":input[name='username']").change(function(){
				
				var val = $(this).val();
				val = $.trim(val);
				
				if(val != ""){
					
					var url = "${pageContext.request.contextPath}/valiateUserName";  
					var args = {"userName":val,"time":new Date()};
					
					$.post(url,args,function(data){
						$("#message").html(data);
					});
				}
				
			});
		});
		

	</script>
</head>
<body>
	<center>
		<br><br><br>
		<form action="#" method="post">
			UserName :&nbsp;<input style="width:200px;height:22px" type="text" name="username">
			<br><br>
			<span id="message" style="width:200px; height:22px"></span>
			<br><br>
			<hr><br>
			<input style="width:200px; height:32px" type="submit" value="提交">
			<br><br>
			
			<br>
		</form>
		<br><br><br><br>
		
		您已将<span></span>加入到购物车，总共有xxx供xxx钱<br><br>
		
		Java &nbsp;&nbsp;&nbsp;<a href="addToCart?id=java&price=12">加入购物车</a>
		<br><br>
		
		Oracle&nbsp;&nbsp;&nbsp;<a href="addToCart?id=oracle&price=12">加入购物车</a>
		<br><br>
		
		Script&nbsp;&nbsp;&nbsp;<a href="addToCart?id=script&price=12">加入购物车</a>
		<br><br>
	</center>
</body>
</html>